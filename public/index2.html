</<!DOCTYPE html>

<html>
<head>
	<title></title>
	<script type="text/javascript" src="static/js/vis.js"></script>
	<script type="text/javascript" src="static/js/javascript.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="main.js"></script>	
	<script type="text/javascript" src="static/js/jquery-3.1.1.min.js"></script>
    <link href="static/css/vis-network.min.css" rel="stylesheet" type="text/css" />
    <link href="static/css/styles.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="static/css/font-awesome.min.css">
    <script type="text/javascript">
    var WebSocket = require('ws');
    var ws = new WebSocket('ws://127.0.0.1:1880/public/prueba');

    ws.on('open', function open() {
      var array = new Float32Array(5);

      for (var i = 0; i < array.length; ++i) {
        array[i] = i / 2;
      }

      ws.send(array, { binary: true, mask: true });
    });
  </script>
</head>
<body>
<h1 style="font-size: 52px;  margin-left: 90px;">intgIO</h1>
<div>
	<div class="wrapper" style="float: left; width: 22%;">
	  <nav class="vertical">
	    <ul>
	      <li>
	        <a href="#">Menu</a>
	        <div>
	          <ul>
	            <li><a id="tagnuevoDispositivo" class="fa fa-file-o" style="width:auto;" href="#">   Nuevo Dispositivo</a></li>
	            <li><a class="fa fa-link" href="#">            Conexi&oacute;n</a></li>
	            <li><a class="fa fa-exchange" href="#">   Ejecutar Acciones</a></li>
	            <li><a class="fa fa-trash" href="#">            Eliminar</a></li>
	            <li><a id="taginformacion" class="fa fa-info" href="#">   Informaci&oacute;n</a></li>
	          </ul>
	        </div>
	      </li>
	    </ul>
	  </nav>
	</div>
	<div style="width: 70%;height: 78%;float: right;">
		<div style=" height: 10%;width: 330px;">
			<button class="fa fa-search btn" aria-hidden="true" style=" font-size: 27px; float: left;" id="btnbuscar"></button>
			<button class="fa fa-eraser btn" aria-hidden="true" style=" font-size: 20px;float: right; width: 222px;" onclick="clearBoard()">  Limpiar Tablero</button>
		</div>
		<div id="mynetwork" >
		</div>
	</div>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion buscr dispositivo-->
<div id="BuscarDispositivo" class="modal">
	<div class="container" style=" height: 100%;">
	      
	      <div style=" height: 45%;margin-top: 7px;">
	      			
					<form class="modal-content animate" action="#">
					</br>
						<label style="  padding: 32px;    font-size: 25px;"><b>Buscar Dispositivo</b></label>
						<div>
					      	<input type="text" style="width: 36%;float: left; margin-left: 20%;" placeholder="C&oacute;digo del Dispositivo" id="Buscarxcodigo" required>
					      	<div style=" float: left; margin-left: 6%;">
						      	<input type="submit" style="border-radius: 11px;  width: 74%;   margin-left: 12px; margin-bottom: 10px;" name="buscar" value="Buscar" id="btnBuscarDispositivo" >
						      	<button type="button" style="border-radius: 11px; width: 34%; margin-left: 12px;" id="btnModificarDispositivo" >Modificar</button>
				      			<button type="button" style="border-radius: 11px; width: 34%; margin-left: 12px;" id="btnCancelarBusqueda" >Cancelar</button>
			      			</div>
		      			</div>
		      			</form>
				
	      </div>
	    </div>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion nuevo dispositivo-->
<div id="openNewDevice" class="modal">
	<form class="modal-content animate" action="#">
    <div class="container" style=" height: 100%;">
      <label><b>Nuevo Dispositivo</b></label>
      <div style=" height: 80%;margin-top: 7px;">
      	<div id="contenedor">
		    <input id="tab-1" type="radio" name="radio-set" class="tab-selector-1 " checked="checked" style="visibility: hidden;"/>
		    <label for="tab-1" class="tab-label-1">General</label>
		   
		    <input  id="tab-2" type="radio" name="radio-set" class="tab-selector-2 " style="visibility: hidden;"/>
		    <label for="tab-2" class="tab-label-2">Objetos</label>
		   
		    <input  id="tab-3" type="radio" name="radio-set" class="tab-selector-3 " style="visibility: hidden;"/>
		    <label for="tab-3" class="tab-label-3">Acciones</label>
		   
		    <div class="content">
		        <div class="content-1">
					<input type="text" placeholder="Nombre Dispositivo" id="nameDevice" required>
					<input type="text" placeholder="Codigo Dispositivo" id="codeDevice" required>
					<input type="text" placeholder="Tipo Dispositivo" id="typeDevice" required>
					<input type="text" placeholder="Modelo Dispositivo" id="modelDevice" required>
		        </div>
		        <div class="content-2" style=" width: 90%;">
		            <table>
		            	<thead>
					        <tr>
								<th>C&oacute;digo </th>
								<th>Nombre</th>
								<th>tipo</th>
								<th>Comunicaci&oacute;n</th>
								<th>Editar</th>
								<th>Eliminar</th>
							</tr>
					    </thead>
						<tbody id="table_body">
							
						</tbody>
						
						
					</table>
					<input type="button" class="butonTableF" value="Nuevo Objeto" id="btnnuevoobjeto" style ="width: 300px" >
				</div>
		        <div class="content-3" style=" width: 90%;">
		        	<table>
		        		<thead>
							<tr>
								<th>C&oacute;digo</th>
								<th>Nombre</th>
								<th>tipo</th>
								<th>Editar</th>
								<th>Eliminar</th>
							</tr>
						</thead>
						<tbody id="table_body2">
							
						</tbody>
						
					</table>
		            <input type="button" class="butonTableF" id="btnnuevaaccion" value="Nueva Acci&oacute;n" style ="width: 300px" >
		        </div>
		    </div>
		</div>
      
      </div>
      <div style="height: 10%;">
      		<button type="button" style="margin-top: 23px; border-radius: 11px; width: 100px; float: right;height: 94%;" id="btncancelarnuevodispositivo" >Cancelar</button>
	      	<input type="submit" name="submit" id="submit" value="Guardar" style="margin-top: 23px; border-radius: 11px; width: 100px; margin-right: 18px; float: right;height: 94%;" onclick="document.getElementById('openNewDevice').style.display='none'">
      </div>
    </div>
  </form>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion nuevo Objecto-->
<div id="NuevoObjeto" class="modal">
	<form class="modal-content animate" action="#">
		<div class="imgcontainer">
	      <!--<span onclick="document.getElementById('NuevoObjeto').style.display='none'" class="close" title="Close Modal">&times;</span>-->
	    </div>
	    <div class="container" style="height: 95%; height: 100%;">
	      <label><b>Nuevo Objeto</b></label>
	      <div style=" height: 80%;margin-top: 7px;">
	      	<div id="contenedor">
	      		<div class="content" style="margin-top: 0;">
			      	<input type="text" placeholder="Nombre Objeto" id="nameObject" required>
			      	<input type="text" placeholder="Codigo Objeto" id="codeObject" required>
			      	Tipo de Objeto:
			      	<select placeholder="Tipo Objeto" id="typeObject">
					    <option value="Emisor">Emisor</option>
					    <option value="Receptor">Receptor</option>
					    <option value="Hibrido">Hibrido</option>
					</select>
					Tipo de Comunicaci&oacute;n:
						<select placeholder="Tipo Comunicacion"  id="typeComunicationObject">
							<option value="http">HTTP</option>
							<option value="ftp">FTP</option>
							<option value="udp">UDP</option>
							<option value="serial">SERIAL</option>
						</select>
					<input type="text" placeholder="Direcci&oacute;n IP" id="iphtml" style="width: 26%; height: 31px; display: block " >
					<input type="text" placeholder="Puerto" id="puertohtml" style="width: 12%; height: 31px; display: block " >
					<input type="text" placeholder="Dominio ftp" id="dominio" style="width: 26%; height: 31px; display: none " >
					<input type="text" placeholder="Puerto" id="puertoftp" style="width: 12%; height: 31px; display: none " >
					<input type="text" placeholder="Direcci&oacute;n IP" id="ipudp" style="width: 26%; height: 31px; display: none " >
					<input type="text" placeholder="Puerto" id="puertoudp" style="width: 12%; height: 31px; display: none" >
					<input type="text" placeholder="Dispositivo Ej: /dev/ttyUSB0" id="dispositivoserial" style="width: 26%; height: 31px; display: none" >
					<input type="text" placeholder="Direcci&oacute;n IP" id="ipserial" style="width: 26%; height: 31px; display: none" >
					<input type="text" placeholder="Puerto" id="puertoserial" style="width: 12%; height: 31px; display: none" >
				</div>
			</div>
	      </div>
	      <div style="height: 10%;">
	      		<button type="button" style="border-radius: 11px; width: 100px; float: right;height: 94%;" id="btncancelarnuevoobjeto" >Cancelar</button>
	      		<button type="submit" id="crearObjeto" style="border-radius: 11px; width: 100px; margin-right: 18px; float: right;height: 94%;" >Crear</button>
		  </div>
	    </div>
	</form>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion modificar Objecto-->
<div id="editar_objeto" class="modal">
	<form class="modal-content animate" action="#">
		<div class="imgcontainer">
	      <!--<span onclick="document.getElementById('editar_objeto').style.display='none'" class="close" title="Close Modal">&times;</span>-->
	    </div>
	    <div class="container" style=" height: 100%;">
	      <label><b>Modificar Objeto</b></label>
	      <div style=" height: 95%;;margin-top: 7px;">
	      	<div id="contenedor">
	      		<div class="content" style="margin-top: 0;">
			      	<input type="text" placeholder="Nombre Objeto" id="nameObjectE" required>
			      	<input type="text" placeholder="Codigo Objeto" id="codeObjectE" required>
			      	Tipo de Objeto:
			      	<select placeholder="Tipo Objeto" id="typeObjectE">
					    <option value="Emisor">Emisor</option>
					    <option value="Receptor">Receptor</option>
					    <option value="Hibrido">Hibrido</option>
					</select>
					Tipo de Comunicaci&oacute;n:
						<select placeholder="Tipo Comunicacion"  id="typeComunicationObjectE">
							<option value="http">HTTP</option>
							<option value="ftp">FTP</option>
							<option value="udp">UDP</option>
							<option value="serial">SERIAL</option>
						</select>
					<input type="text" placeholder="Direcci&oacute;n IP" id="iphtmlE" style="width: 26%; height: 31px; display: block " >
					<input type="text" placeholder="Puerto" id="puertohtmlE" style="width: 12%; height: 31px; display: block " >
					<input type="text" placeholder="Dominio ftp" id="dominioE" style="width: 26%; height: 31px; display: none " >
					<input type="text" placeholder="Puerto" id="puertoftpE" style="width: 12%; height: 31px; display: none " >
					<input type="text" placeholder="Direcci&oacute;n IP" id="ipudpE" style="width: 26%; height: 31px; display: none " >
					<input type="text" placeholder="Puerto" id="puertoudpE" style="width: 12%; height: 31px; display: none" >
					<input type="text" placeholder="Dispositivo Ej: /dev/ttyUSB0" id="dispositivoserialE" style="width: 26%; height: 31px; display: none" >
					<input type="text" placeholder="Direcci&oacute;n IP" id="ipserialE" style="width: 26%; height: 31px; display: none" >
					<input type="text" placeholder="Puerto" id="puertoserialE" style="width: 12%; height: 31px; display: none" >
					<input type="text" placeholder="Puerto" id="tagid" style="width: 12%; height: 31px; display: none" readonly>
				</div>
			</div>
	      </div>
	      <div style="height: 10%;">
	      		<button type="button" style="border-radius: 11px; width: 100px; float: right;height: 94%;" id="cancelarmodobjeto">Cancelar</button>
	      		<button type="submit" id="btnEditarObjeto" style="border-radius: 11px; width: 185px; margin-right: 18px; float: right;height: 94%;" >Guardar Cambios</button>
		  </div>
	    </div>
	</form>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion nueva Accion-->
<div id="nuevaAccion" class="modal">
	<form class="modal-content animate" action="#">
		<div class="imgcontainer">
	      <!--<span onclick="document.getElementById('nuevaAccion').style.display='none'" class="close" title="Close Modal">&times;</span>-->
	    </div>
	    <div class="container" style=" height: 100%;">
	      <label><b>Nueva Accion</b></label>
	      <div style=" height: 80%;margin-top: 7px;">
	      	<div id="contenedor">
				<div class="content" style="margin-top: 0;">
			      	<input type="text" placeholder="Nombre Accion" id="nameAction" style=" width: 32%;" required>
			      	<input type="text" placeholder="C&oacute;digo del objeto al que pertenecera la acci&oacute;n" id="codeObject_relacion" style=" width: 32%;" required>
			      	<input type="text" placeholder="C&oacute;digo de Acci&oacute;n" id="codeAccion" style=" width: 32%;" required>
			      	<p style="line-height: 0px;text-align: inherit;margin-left: 36px;">Tipo de Acci&oacute;n:</p>
			      	<select style="margin-left: 36px;" placeholder="Tipo Acci&oacute;n" id="tipoAccion">
					    <option value="incremental">Incremental</option>
					    <option value="on_off">On / Off</option>
					</select>
					<p style="line-height: 0px;text-align: inherit;margin-left: 36px;">Descripci&oacute;n:</p>
					<textarea style="margin-left: 36px;" rows="4" cols="120" id="descripcion">
					</textArea>	
					</div>
				</div>
	      </div>
	      <div style="height: 10%;">
	      		<button type="button" style="border-radius: 11px; width: 100px; float: right;height: 94%;" id="btncancelarnuevaaccion" >Cancelar</button>
	      		<button type="submit" style="border-radius: 11px; width: 100px; margin-right: 18px; float: right;height: 94%;" id="btncrearaccion" >Crear</button>
		  </div>
	    </div>
	</form>
</div>


<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion modificar Accion-->
<div id="modificarAccion" class="modal">
	<form class="modal-content animate" action="#">
		<div class="imgcontainer">
	      <!--<span onclick="document.getElementById('nuevaAccion').style.display='none'" class="close" title="Close Modal">&times;</span>-->
	    </div>
	    <div class="container" style=" height: 100%;">
	      <label><b>Modificar Acci&oacute;n</b></label>
	      <div style=" height: 80%;margin-top: 7px;">
	      	<div id="contenedor">
				<div class="content" style="margin-top: 0;">
			      	<input type="text" placeholder="Nombre Accion" id="nameActionE" style=" width: 32%;" required>
			      	<input type="text" placeholder="C&oacute;digo del objeto al que pertenecera la acci&oacute;n" id="codeObject_relacionE" style=" width: 32%;" required>
			      	<input type="text" placeholder="C&oacute;digo de Acci&oacute;n" id="codeAccionE" style=" width: 32%;" required>
			      	<p style="line-height: 0px;text-align: inherit;margin-left: 36px;">Tipo de Acci&oacute;n:</p>
			      	<select style="margin-left: 36px;" placeholder="Tipo Acci&oacute;n" id="tipoAccionE">
					    <option value="incremental">Incremental</option>
					    <option value="on_off">On / Off</option>
					</select>
					<p style="line-height: 0px;text-align: inherit;margin-left: 36px;">Descripci&oacute;n:</p>
					<textarea style="margin-left: 36px;" rows="4" cols="120" id="descripcionE">	</textArea>	
					<input type="text" placeholder="Puerto" id="tagid2" style=" display: none" readonly>
					</div>
				</div>
	      </div>
	      <div style="height: 10%;">
	      		<button type="button" style="border-radius: 11px; width: 100px; float: right;height: 94%;" id="btncancelarmodificacionaccion" >Cancelar</button>
	      		<button type="submit" style="border-radius: 11px; width: 100px; margin-right: 18px; float: right;height: 94%;" id="btnmodificaraccion" >Guardar</button>
		  </div>
	    </div>
	</form>
</div>

<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!--seccion de informacion-->
<div id="informacion" class="modal">
	<div class="modal-content animate" >
		<div class="imgcontainer">
	      <!--<span onclick="document.getElementById('informacion').style.display='none'" class="close" title="Close Modal">&times;</span>-->
	    </div>
	    <div class="container" style=" height: 100%;">
	      <label><b>Informaci&oacute;n</b></label>
	      <div style=" height: 75%;margin-top: 7px;">
	      	      <p style=" font-size: 24px;"><b>IntgIo   Version 1.0</b></p>
	      	      <p style=" float: left; margin-left: 4%;"><b>&iquest; Qu&eacute; es IntgIO ?</b></p>
	      	      <p style="float: left; margin-left: 4%;font-weight: 600;margin-top: 0px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting,</p>

	      	      <label style="float: left;    margin-left: 4%;">Contactos:</label>
	      	      <br>
	      	      <div style="float: left;    margin-left: 10%;">
		      	      <i class="fa fa-user" aria-hidden="true"></i>
		      	      <label>Jaime Adri&aacute;n Aguilar</label><br>
		      	      <i class="fa fa-envelope" aria-hidden="true"></i>
		      	      <a href="mailto:jaaguila@espol.edu.ec" style="color: cadetblue;">jaaguila@espol.edu.ec</a>
		      	  </div>
	      	      <br>
	      	      <div style="float: left;    margin-left: 10%;">
		      	      <i class="fa fa-user" aria-hidden="true"></i>
		      	      <label>Kevin Campuzano Castillo</label><br>
		      	      <i class="fa fa-envelope" aria-hidden="true"></i>
		      	      <a href="mailto:kegucamp@espol.edu.ec" style="color: cadetblue;">kegucamp@espol.edu.ec</a>
	      	      </div>
	      </div>
	      <div style="height: 10%;">
	      		<button type="button" style="border-radius: 11px; width: 100px; float: right;height: 94%;" onclick="document.getElementById('informacion').style.display='none'">Cerrar</button>
		  </div>
	    </div>
	</div>
</div>

<script type="text/javascript">
	// Init
/*
	function init(){
		
		var deviceA = new Object(),
			code = "dev_a",
			name = "Dispositivo A",
			type = "",
			model = "",
			objects = [objectA],
			active = 1
		}
		var objectA = {
			code="",
			name="",
			type="SC",
			typeCommunication="fttp",
			actions = [actionA],
			active = 1
		}
		
		var actionA = {
			id = "",
			name="",
			type="",
			description =""
		}
		
		var devices = [deviceA]
		var objects = [objectA]
	}
*/
	
	// create an array with nodes
	var nodes = new vis.DataSet([
		{id: 1, label: 'Dispositivo', color: 'lime'},
		{id: 2, label: 'Objeto', color: 'rgb(255,168,7)'},
		{id: 3, label: 'Acciones', color: 'rgba(97,195,238,0.5)'},
	]);

	// create an array with edges
	var edges = new vis.DataSet([
		{from: 1, to: 2, arrows:'to'},
		{from: 2, to: 3, arrows:'to'},
	]);

	// create a network
	var container = document.getElementById('mynetwork');
	var data = {
		nodes: nodes,
		edges: edges
	};
	var options = {};
	var network = new vis.Network(container, data, options);
	
	function destroy() {
      if (network !== null) {
        network.destroy();
        network = null;
      }
    }
    
    function clearBoard(){
	    destroy();
	    var container = document.getElementById('mynetwork');
	    var options = {};
	    var data = {};
		network = new vis.Network(container,data,options)
    }


</script>

<script>

	$(document).ready(function(){
		var contadorFilasAgregadas = 0;
		var contadorFilasAgregadas2 = 0;
	   $('#typeComunicationObject').on('change', Cambiar_SELECT_comu );
	   $('#typeComunicationObjectE').on('change', Cambiar_SELECT_comu2 );

	   $('#btnEditarObjeto').on('click', guardarObjEditado );

	   $('#btnmodificaraccion').on('click', guardarAccionEditada );

	   $('#tagnuevoDispositivo').on("click",function(){
		  document.getElementById("openNewDevice").style.display="block";
		})
	   $('#taginformacion').on("click",function(){
		  document.getElementById("informacion").style.display="block";
		})
	   
	   $('#btnnuevoobjeto').on("click",function(){
		  document.getElementById("NuevoObjeto").style.display="block";
		})
	   
	   $('#btnnuevaaccion').on("click",function(){
		  document.getElementById("nuevaAccion").style.display="block";
		})
	   

	   $('#btncancelarnuevoobjeto').on("click",function(){
		  document.getElementById("NuevoObjeto").style.display="none";
		})

	   $('#btncancelarmodificacionaccion').on("click",function(){
		  document.getElementById("modificarAccion").style.display="none";
		})
	   
	   $('#btncancelarnuevodispositivo').on("click",function(){
		  document.getElementById("openNewDevice").style.display="none";
		})

	   $('#cancelarmodobjeto').on("click",function(){
		  document.getElementById("editar_objeto").style.display="none";
		})

	   $('#btncancelarnuevaaccion').on("click",function(){
		  document.getElementById("nuevaAccion").style.display="none";
		})
	   
	   $('#btnbuscar').on("click",function(){
		  document.getElementById("BuscarDispositivo").style.display="block";
		})

	   $('#btnCancelarBusqueda').on("click",function(){
		  document.getElementById("BuscarDispositivo").style.display="none";
		})
	   $('#btnBuscarDispositivo').on("click",function(){
		  document.getElementById("BuscarDispositivo").style.display="none";
		})
	   $('#btnModificarDispositivo').on("click",function(){
		  document.getElementById("BuscarDispositivo").style.display="none";
		})
	   
	   $('#crearObjeto').click(function () {

	   		var nameObject=document.getElementById("nameObject").value
    		var codeObject=document.getElementById("codeObject").value
    		var typeObject=document.getElementById("typeObject").value
    		var typeComunicationObject=document.getElementById("typeComunicationObject").value
    		var iphtml=document.getElementById("iphtml").value
    		var puertohtml=document.getElementById("puertohtml").value
    		var dominio=document.getElementById("dominio").value
    		var puertoftp=document.getElementById("puertoftp").value
    		var ipudp=document.getElementById("ipudp").value
    		var puertoudp=document.getElementById("puertoudp").value
    		var dispositivoserial=document.getElementById("dispositivoserial").value
    		var ipserial=document.getElementById("ipserial").value
    		var puertoserial=document.getElementById("puertoserial").value

    		var tdnombre = '<td><input type="text" name="nombre_' + contadorFilasAgregadas +'" value="'+nameObject+'" class="inputs_tabla_objetos" readonly></td>';
    		var tdcodigo = '<td><input type="text" name="codigo_' + contadorFilasAgregadas +'" value="'+codeObject+'" class="inputs_tabla_objetos" readonly></td>';
    		var tdtipo_objeto = '<td><input type="text" name="tipoObjeto_' + contadorFilasAgregadas +'" value="'+typeObject+'" class="inputs_tabla_objetos" readonly></td>';
			var tdtipo_comunicacion = '<td><input type="text" name="tipoComunicacion_' + contadorFilasAgregadas +'" value="'+typeComunicationObject+'" class="inputs_tabla_objetos" readonly></td>';
			var tdiphtml = '<td style="display: none;"><input type="text" name="iphtml_' + contadorFilasAgregadas +'" value="'+iphtml+'" class="inputs_tabla_objetos"  readonly></td>';
			var tdpuertohtml = '<td style="display: none;"><input type="text" name="puertohtml_' + contadorFilasAgregadas +'" value="'+puertohtml+'" class="inputs_tabla_objetos"  readonly></td>';
			var tddominio = '<td style="display: none;"><input type="text" name="dominio_' + contadorFilasAgregadas +'" value="'+dominio+'" class="inputs_tabla_objetos" readonly></td>';
			var tdpuertoftp = '<td style="display: none;"><input type="text" name="puertoftp_' + contadorFilasAgregadas +'" value="'+puertoftp+'" class="inputs_tabla_objetos" readonly></td>';
			var tdipudp = '<td style="display: none;"><input type="text" name="ipudp_' + contadorFilasAgregadas +'" value="'+ipudp+'" class="inputs_tabla_objetos" readonly></td>';
			var tdpuertoudp = '<td style="display: none;"><input type="text" name="puertoudp_' + contadorFilasAgregadas +'" value="'+puertoudp+'" class="inputs_tabla_objetos" readonly></td>';
			var tddispositivoserial = '<td style="display: none;"><input type="text" name="dispositivoserial_' + contadorFilasAgregadas +'" value="'+dispositivoserial+'" class="inputs_tabla_objetos" readonly></td>';
			var tdipserial = '<td style="display: none;"><input type="text" name="serial_' + contadorFilasAgregadas +'" value="'+ipserial+'" class="inputs_tabla_objetos" readonly></td>';
			var tdpuertoserial = '<td style="display: none;"><input type="text" name="puertoserial_' + contadorFilasAgregadas +'" value="'+puertoserial+'" class="inputs_tabla_objetos" readonly></td>';
			var td = '<td style="display: none;"><input class=' + '"inputs_tabla_objetos"' + ' name="estado_' + contadorFilasAgregadas + '" value="Nuevo" readonly></td>';
			contadorFilasAgregadas = contadorFilasAgregadas + 1;
			
    		//validaciones para guardar en la base
    		/*if(tipo== "html"){

    		}else if(tipo== "ftp"){

    		}
    		else if(tipo== "udp"){

    		}else if(tipo== "serial"){

    		}*/
    		var btnEdit = '<td><input id="" type="button" class="butonTable" value="Editar" onclick="editarObjeto(' + contadorFilasAgregadas + ')"> </td>';
    		var btnElim = '<td><input id="" type="button" class="butonTable" value="Eliminar" onclick="eliminarFila(' + contadorFilasAgregadas + ')"> </td>';
            
            
            $('#table_body').append('<tr id="' + contadorFilasAgregadas + '">' + tdnombre + tdcodigo + tdtipo_objeto + tdtipo_comunicacion + tdiphtml + tdpuertohtml + tddominio + tdpuertoftp + tdipudp + tdpuertoudp + tddispositivoserial + tdipserial + tdpuertoserial + td + btnEdit + btnElim + '</tr>');
        	document.getElementById('NuevoObjeto').style.display='none'
        	document.getElementById("nameObject").value="";
    		document.getElementById("codeObject").value="";
    		document.getElementById("typeObject").value="";
    		document.getElementById("typeComunicationObject").value="";
    		document.getElementById("iphtml").value="";
    		document.getElementById("puertohtml").value="";
    		document.getElementById("dominio").value="";
    		document.getElementById("puertoftp").value="";
    		document.getElementById("ipudp").value="";
    		document.getElementById("puertoudp").value="";
    		document.getElementById("dispositivoserial").value="";
    		document.getElementById("ipserial").value="";
    		document.getElementById("puertoserial").value="";

            
        });


		$('#btncrearaccion').click(function () {

			var codeAccion=document.getElementById("codeAccion").value
	   		var nameAction=document.getElementById("nameAction").value
    		var tipoAccion=document.getElementById("tipoAccion").value
    		var codeObject_relacion=document.getElementById("codeObject_relacion").value
    		var descripcion=document.getElementById("descripcion").value
    		

    		var tdcodeAccion = '<td><input type="text" name="codeAccion_' + contadorFilasAgregadas2 +'" value="'+codeAccion+'" class="inputs_tabla_objetos" readonly></td>';
    		var tdnameAction = '<td><input type="text" name="nameAction_' + contadorFilasAgregadas2 +'" value="'+nameAction+'" class="inputs_tabla_objetos" readonly></td>';
    		var tdtipoAccion = '<td><input type="text" name="tipoAccion_' + contadorFilasAgregadas2 +'" value="'+tipoAccion+'" class="inputs_tabla_objetos" readonly></td>';
			var tdcodeObject_relacion = '<td style="display: none;"><input type="text" name="codeObject_relacion_' + contadorFilasAgregadas2 +'" value="'+codeObject_relacion+'" class="inputs_tabla_objetos" readonly></td>';
			var tddescripcion = '<td style="display: none;"><input type="text" name="descripcion_' + contadorFilasAgregadas2 +'" value="'+descripcion+'" class="inputs_tabla_objetos"  readonly></td>';
			var td = '<td style="display: none;"><input class=' + '"inputs_tabla_objetos"' + ' name="estado2_' + contadorFilasAgregadas2 + '" value="Nuevo" readonly></td>';
			contadorFilasAgregadas2 = contadorFilasAgregadas2 + 1;
			
    		//validaciones para guardar en la base
    		
    		var btnEdit = '<td><input id="" type="button" class="butonTable" value="Editar" onclick="editarAccion(' + contadorFilasAgregadas2 + ')"> </td>';
    		var btnElim = '<td><input id="" type="button" class="butonTable" value="Eliminar" onclick="eliminarFila2(' + contadorFilasAgregadas2 + ')"> </td>';
            
            
            $('#table_body2').append('<tr id="' + contadorFilasAgregadas2 + '">' + tdcodeAccion + tdnameAction + tdtipoAccion + tdcodeObject_relacion + tddescripcion +td + btnEdit + btnElim + '</tr>');
        	document.getElementById("codeAccion").value="";
	   		document.getElementById("nameAction").value="";
    		document.getElementById("tipoAccion").value="";
    		document.getElementById("codeObject_relacion").value="";
    		document.getElementById("descripcion").value="";


            document.getElementById("nuevaAccion").style.display="none";
        });


	});

	function eliminarFila(id) {
        console.log("CHAO");
        $('#' + id.toString()).css("display", "none");
        
        document.getElementsByName("estado_"+(id-1).toString())[0].setAttribute("value", "Eliminado"); 
    }

    function eliminarFila2(id) {
        console.log("CHAO");
        $('#' + id.toString()).css("display", "none");
        
        document.getElementsByName("estado2_"+(id-1).toString())[0].setAttribute("value", "Eliminado"); 
    }


    function Cambiar_SELECT_comu () {
	   		if (this.value == "http"){
	   			$('#puertohtml').css("display","block");
	   			$('#iphtml').css("display","block");
	   			$('#dominio').css("display","none");
	   			$('#puertoftp').css("display","none");
	   			$('#puertoudp').css("display","none");
	   			$('#ipudp').css("display","none");
	   			$('#dispositivoserial').css("display","none");
	   			$('#ipserial').css("display","none");
	   			$('#puertoserial').css("display","none");
	   		}else if (this.value == "ftp"){
	   			$('#puertohtml').css("display","none");
	   			$('#iphtml').css("display","none");
	   			$('#dominio').css("display","block");
	   			$('#puertoftp').css("display","block");
	   			$('#puertoudp').css("display","none");
	   			$('#ipudp').css("display","none");
	   			$('#dispositivoserial').css("display","none");
	   			$('#ipserial').css("display","none");
	   			$('#puertoserial').css("display","none");
	   		}else if (this.value == "udp"){
	   			$('#puertohtml').css("display","none");
	   			$('#iphtml').css("display","none");
	   			$('#dominio').css("display","none");
	   			$('#puertoftp').css("display","none");
	   			$('#puertoudp').css("display","block");
	   			$('#ipudp').css("display","block");
	   			$('#dispositivoserial').css("display","none");
	   			$('#ipserial').css("display","none");
	   			$('#puertoserial').css("display","none");
	   		}else if (this.value == "serial"){
	   			$('#puertohtml').css("display","none");
	   			$('#iphtml').css("display","none");
	   			$('#dominio').css("display","none");
	   			$('#puertoftp').css("display","none");
	   			$('#puertoudp').css("display","none");
	   			$('#ipudp').css("display","none");
	   			$('#dispositivoserial').css("display","block");
	   			$('#ipserial').css("display","block");
	   			$('#puertoserial').css("display","block");
	   		}
		  
		}
		function Cambiar_SELECT_comu2 () {
	   		if (document.getElementById("typeComunicationObjectE").value == "http"){
	   			$('#puertohtmlE').css("display","block");
	   			$('#iphtmlE').css("display","block");
	   			$('#dominioE').css("display","none");
	   			$('#puertoftpE').css("display","none");
	   			$('#puertoudpE').css("display","none");
	   			$('#ipudpE').css("display","none");
	   			$('#dispositivoserialE').css("display","none");
	   			$('#ipserialE').css("display","none");
	   			$('#puertoserialE').css("display","none");
	   		}else if (document.getElementById("typeComunicationObjectE").value == "ftp"){
	   			$('#puertohtmlE').css("display","none");
	   			$('#iphtmlE').css("display","none");
	   			$('#dominioE').css("display","block");
	   			$('#puertoftpE').css("display","block");
	   			$('#puertoudpE').css("display","none");
	   			$('#ipudpE').css("display","none");
	   			$('#dispositivoserialE').css("display","none");
	   			$('#ipserialE').css("display","none");
	   			$('#puertoserialE').css("display","none");
	   		}else if (document.getElementById("typeComunicationObjectE").value == "udp"){
	   			$('#puertohtmlE').css("display","none");
	   			$('#iphtmlE').css("display","none");
	   			$('#dominioE').css("display","none");
	   			$('#puertoftpE').css("display","none");
	   			$('#puertoudpE').css("display","block");
	   			$('#ipudpE').css("display","block");
	   			$('#dispositivoserialE').css("display","none");
	   			$('#ipserialE').css("display","none");
	   			$('#puertoserialE').css("display","none");
	   		}else if (document.getElementById("typeComunicationObjectE").value == "serial"){
	   			$('#puertohtmlE').css("display","none");
	   			$('#iphtmlE').css("display","none");
	   			$('#dominioE').css("display","none");
	   			$('#puertoftpE').css("display","none");
	   			$('#puertoudpE').css("display","none");
	   			$('#ipudpE').css("display","none");
	   			$('#dispositivoserialE').css("display","block");
	   			$('#ipserialE').css("display","block");
	   			$('#puertoserialE').css("display","block");
	   		}
		  
		}

    function editarObjeto(id) {
        console.log("modificar");
        //$('#' + id.toString());
        var n=(id-1).toString();
        console.log(n, "nombre_"+n);
        var nombre=document.getElementsByName("nombre_"+n)[0].value;
		var codigo=document.getElementsByName("codigo_"+n)[0].value;
		var tipoObjeto=document.getElementsByName("tipoObjeto_"+n)[0].value;
		var tipo_comunicacion=document.getElementsByName("tipoComunicacion_"+n)[0].value;
		var iphtml=document.getElementsByName("iphtml_"+n)[0].value;
		var puertohtml=document.getElementsByName("puertohtml_"+n)[0].value;
		var dominio=document.getElementsByName("dominio_"+n)[0].value;
		var puertoftp=document.getElementsByName("puertoftp_"+n)[0].value;
		var ipudp=document.getElementsByName("ipudp_"+n)[0].value;
		var puertoudp=document.getElementsByName("puertoudp_"+n)[0].value;
		var puertoftp=document.getElementsByName("puertoftp_"+n)[0].value;
		var dispositivoserial=document.getElementsByName("dispositivoserial_"+n)[0].value;
		var ipserial=document.getElementsByName("serial_"+n)[0].value;
		var puertoserial=document.getElementsByName("puertoserial_"+n)[0].value;

		document.getElementById("nameObjectE").value=nombre;
		document.getElementById("codeObjectE").value=codigo;
		document.getElementById("typeObjectE").value=tipoObjeto;
		document.getElementById("typeComunicationObjectE").value=tipo_comunicacion;
		document.getElementById("iphtmlE").value=iphtml;
		document.getElementById("puertohtmlE").value=puertohtml;
		document.getElementById("dominioE").value=dominio;
		document.getElementById("puertoftpE").value=puertoftp;
		document.getElementById("ipudpE").value=ipudp;
		document.getElementById("puertoudpE").value=puertoudp;
		document.getElementById("dispositivoserialE").value=dispositivoserial;
		document.getElementById("ipserialE").value=ipserial;
		document.getElementById("puertoserialE").value=puertoserial;
		document.getElementById("tagid").value=id.toString();
		Cambiar_SELECT_comu2();
		document.getElementById('editar_objeto').style.display='block';
    	
    }

    function editarAccion(id) {
        console.log("modificar Accion");
        //$('#' + id.toString());
        var n=(id-1).toString();

        console.log(n);
			

        var codeAccion=document.getElementsByName("codeAccion_"+n)[0].value;
		var nameAction=document.getElementsByName("nameAction_"+n)[0].value;
		var tipoAccion=document.getElementsByName("tipoAccion_"+n)[0].value;
		var codeObject_relacion=document.getElementsByName("codeObject_relacion_"+n)[0].value;
		var descripcion=document.getElementsByName("descripcion_"+n)[0].value;
		

		document.getElementById("codeAccionE").value=codeAccion;
		document.getElementById("nameActionE").value=nameAction;
		document.getElementById("tipoAccionE").value=tipoAccion;
		document.getElementById("codeObject_relacionE").value=codeObject_relacion;
		document.getElementById("descripcionE").value=descripcion;
		document.getElementById("tagid2").value=id.toString();

		document.getElementById('modificarAccion').style.display='block';
    	
    }

    function guardarObjEditado() {
    	var id=parseInt(document.getElementById("tagid").value);
    	var n=id-1;
    	console.log(n, "nombre_"+n);
    	document.getElementsByName("nombre_"+n)[0].setAttribute("value", document.getElementById("nameObjectE").value);
		document.getElementsByName("codigo_"+n)[0].setAttribute("value", document.getElementById("codeObjectE").value);
		document.getElementsByName("tipoObjeto_"+n)[0].setAttribute("value", document.getElementById("typeObjectE").value);
		document.getElementsByName("tipoComunicacion_"+n)[0].setAttribute("value", document.getElementById("typeComunicationObjectE").value);
		document.getElementsByName("iphtml_"+n)[0].setAttribute("value", document.getElementById("iphtmlE").value);
		document.getElementsByName("puertohtml_"+n)[0].setAttribute("value", document.getElementById("puertohtmlE").value);
		document.getElementsByName("dominio_"+n)[0].setAttribute("value", document.getElementById("dominioE").value);
		document.getElementsByName("puertoftp_"+n)[0].setAttribute("value", document.getElementById("puertoftpE").value);
		document.getElementsByName("ipudp_"+n)[0].setAttribute("value", document.getElementById("ipudpE").value);
		document.getElementsByName("puertoudp_"+n)[0].setAttribute("value", document.getElementById("puertoudpE").value);
		document.getElementsByName("dispositivoserial_"+n)[0].setAttribute("value", document.getElementById("dispositivoserialE").value);
		document.getElementsByName("serial_"+n)[0].setAttribute("value", document.getElementById("ipserialE").value);
		document.getElementsByName("puertoserial_"+n)[0].setAttribute("value", document.getElementById("puertoserialE").value);
		document.getElementById('editar_objeto').style.display='none';
    }

    function guardarAccionEditada() {
    	var id=parseInt(document.getElementById("tagid2").value);
    	var n=id-1;
    	console.log(n, "nombre_"+n);
    	document.getElementsByName("codeAccion_"+n)[0].setAttribute("value", document.getElementById("codeAccionE").value);
		document.getElementsByName("nameAction_"+n)[0].setAttribute("value", document.getElementById("nameActionE").value);
		document.getElementsByName("tipoAccion_"+n)[0].setAttribute("value", document.getElementById("tipoAccionE").value);
		document.getElementsByName("codeObject_relacion_"+n)[0].setAttribute("value", document.getElementById("codeObject_relacionE").value);
		document.getElementsByName("descripcion_"+n)[0].setAttribute("value", document.getElementById("descripcionE").value);
		
		document.getElementById('modificarAccion').style.display='none';
    }
</script>
</body>
</html>